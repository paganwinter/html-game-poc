<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body {
  padding: 0;
  margin: 0;
}
#container {
  position: relative;
  width : 100%;
  height: 95%;
}
#paddle {
  position: absolute;
  bottom: 0px;
  left: 0px;
  width: 100px;
  height: 10px;
  background: #024;
  border-radius: 3px;
}
</style>
</head>
<body>

<div id="console" style=""></div>
<div id="stage">
  <div id="paddle"></div>
</div>


<script>
const logConsole = document.getElementById('console')
const paddle = document.getElementById('paddle')
const stage = document.getElementById('stage')

const paddleWidth = paddle.clientWidth
const stageWidth = stage.clientWidth

// const maxLeft = garden.clientWidth  - ball.clientWidth;
// const maxRight = garden.clientHeight - ball.clientHeight;

const maxLeftAngle = 110;
const maxRightAngle = 70;

function log(dat) {
  logConsole.innerHTML = dat
}
log(stageWidth)
log(paddleWidth)

const paddleStartLeft = (stageWidth/2 - paddleWidth/2)
console.log(paddleStartLeft)
paddle.style.left = paddleStartLeft + 'px'
console.log(paddle.style.left)

window.addEventListener('deviceorientation', (ev) => {
  let angle = ev.alpha

  // angle = 90 - angle
  // if (angle < -20) angle = -20
  // else if ((angle > 20)) angle = 20
  // angle = angle + 20

  console.log(angle)

  let paddleLeft = angle/40 * stageWidth

  let logData = angle + ' ' + paddleLeft
  log(logData)
  console.log(logData)

  paddle.style.left = paddleLeft + 'px'
  console.log(paddle.style.left)
});

</script>
</body>
</html>
