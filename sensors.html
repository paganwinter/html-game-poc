<html>
<head></head>
<body>

<textarea id="motion" cols="50" rows="40"></textarea>
<textarea id="orientation" cols="50" rows="40"></textarea>


<script>
/*
let acl = new Accelerometer({frequency: 60});
acl.addEventListener('reading', () => {
  console.log("Acceleration along the X-axis " + acl.x);
  console.log("Acceleration along the Y-axis " + acl.y);
  console.log("Acceleration along the Z-axis " + acl.z);
  document.getElementById('console').value += JSON.stringify(acl)
});
acl.start();
*/

function handleMotion(ev) {
  let { accelerationIncludingGravity, acceleration, interval, rotationRate } = ev
  // let val = JSON.stringify({ accelerationIncludingGravity, acceleration, interval, rotationRate })
  let val = {
    acclerationIncGrav: {
      x: accelerationIncludingGravity.x,
      y: accelerationIncludingGravity.y,
      z: accelerationIncludingGravity.z,
    },
    accleration: {
      x: acceleration.x,
      y: acceleration.y,
      z: acceleration.z,
    },
    rotationRate: {
      alpha: rotationRate.alpha,
      beta: rotationRate.beta,
      gamma: rotationRate.gamma,
    },
    interval,
  }
  val = Object.keys(ev) + '\n' + JSON.stringify(val, 0, 2)

  document.getElementById('motion').value = val
}
function handleOrientation(ev) {
  let { alpha, beta, gamma } = ev
  // let val = JSON.stringify({ alpha, beta, gamma })

  let val = { alpha, beta, gamma }
  val = Object.keys(ev) + '\n' + JSON.stringify(val, 0, 2)

  document.getElementById('orientation').value = val
}
window.addEventListener('devicemotion', handleMotion);
window.addEventListener('deviceorientation', handleOrientation);

</script>
</body>
</html>
